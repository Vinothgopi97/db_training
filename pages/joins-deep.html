<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Joins (Deep Dive)</title>
  <link rel="stylesheet" href="../css/styles.css">
</head>
<body class="has-sidebar">
    <div class="container">
    <nav class="sidebar">
      <ol>
        <li><a href="../index.html">Home</a></li>
        <li><a href="basic-concepts.html">Basic Concepts</a></li>
        <li><a href="relational-model.html">Relational Model</a></li>
        <li><a href="sql-basics.html">SQL Basics</a></li>
  <li><a href="postgresql-intro.html">MySQL Introduction</a></li>
        <li><a href="data-types.html">Data Types</a></li>
        <li><a href="constraints.html">Constraints</a></li>
        <li><a href="relationships.html">Relationships</a></li>
        <li><a href="queries.html">Queries</a></li>
        <li><a href="keys.html">Keys</a></li>
        <li><a href="triggers.html">Triggers</a></li>
        <li><a href="transactions.html">Transactions & ACID</a></li>
        <li><a href="indexing.html">Indexing & Performance</a></li>
  <li><a href="advanced-postgres.html">Advanced MySQL</a></li>
      </ol>
    </nav>

    <script>
      (function(){
        var links = document.querySelectorAll('.sidebar a');
        if(!links) return;
        var path = location.pathname || '';
        var currentFile = path.split('/').pop() || 'index.html';
        if (!currentFile) currentFile = 'index.html';
        links.forEach(function(a){
          try{
            var href = a.getAttribute('href') || '';
            var hrefFile = href.split('/').pop() || '';
            if (hrefFile === '') hrefFile = 'index.html';
            if (hrefFile === currentFile) {
              a.classList.add('active');
              a.setAttribute('aria-current','page');
            }
          } catch(e){}
        });
      })();
    </script>
      <h2>Examples</h2>
      <div class="example">
        <h3>Schema</h3>
        <code>
          CREATE TABLE customers (id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(255));
          CREATE TABLE orders (id INT AUTO_INCREMENT PRIMARY KEY, customer_id INTEGER, amount DECIMAL(10,2));
        </code>

        <h3>INNER JOIN</h3>
        <code>
          SELECT c.id, c.name, o.id AS order_id, o.amount
          FROM customers c
          INNER JOIN orders o ON o.customer_id = c.id;
        </code>

        <h3>LEFT JOIN (customers with their orders, include customers with no orders)</h3>
        <code>
          SELECT c.name, o.id, o.amount
          FROM customers c
          LEFT JOIN orders o ON o.customer_id = c.id;
        </code>

        <h3>CROSS JOIN (cartesian product; useful for combinations)</h3>
        <code>
          SELECT c.name, p.name
          FROM customers c
          CROSS JOIN products p;
        </code>
      </div>

      <h2>Join Conditions & Best Practices</h2>
      <ul>
        <li>Always join on indexed columns (usually primary keys / foreign keys) for performance.</li>
        <li>Be explicit with join predicates: ON a.id = b.a_id rather than putting conditions in WHERE for outer joins.</li>
        <li>Use LEFT JOIN when you need to keep all rows from the left side even if there's no match.</li>
        <li>Avoid unnecessary CROSS JOINs unless you need combinations; they can explode result size.</li>
      </ul>

      <h2>Join Performance</h2>
      <ul>
        <li>Indexes on join columns dramatically improve performance.</li>
        <li>Use EXPLAIN (ANALYZE) to inspect join plans (nested loop, hash join, merge join).</li>
        <li>For large datasets, consider limiting results, filtering early (push predicates into the join), and ensuring statistics (ANALYZE) are up to date.</li>
      </ul>

      <div class="note">
  <p>Example: Use <code>EXPLAIN</code> (or <code>EXPLAIN ANALYZE</code> on newer MySQL versions) to see how MySQL chooses a join strategy and how long queries take.</p>
      </div>
      <div class="nav-buttons">
        <a class="btn" href="keys.html">Next: Keys</a>
      </div>
    </div>
  </div>
</body>
</html>